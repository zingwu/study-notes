#+TITLE: org-mode学习
#+OPTIONS: toc:2

* org-mode 学习

** 简介
   org-mode 是 Emacs 提供的一个强大的编辑模式，可以用于做会议笔记以及制作各种待办事项（GDT）。其语法类似于 Markdown 但是提供了比 Markdown 更多的操作，再加上 Emacs 强大的编辑功能，能给笔记增加很多动态的操作（能纯文本上实现折叠、展开、树状视图、表格求和、求代码运行结果等功能），可以说 org-mode 是最强大的标记语言。

** 章节
   org-mode 中用 * 标识章节，一个 * 代表一级标题，两个 * 代表两级标题，以此类推。例如:
   #+begin_example
   * 标题一
   ** 标题二
   #+end_example

   注意星号后面有空格。可以发现，不同层级标题的颜色是不一样的。一些常用快捷键如下：
   + S+Tab 展开、折叠所有章节
   + Tab 对光标所在章节进行展开、折叠
   + M+left/right 升级/降级标题

** 列表
   　列表是文本中一个比较常用的元素，可以列出各种待完成的事项等。org-mode 提供了一种很独特的功能，可以加入 checkbok（实际就是加入一对中间有空格的方括号[ ]）标记任务的完成状况，而且如果一个总任务有多个子任务，还可以根据子任务的完成情况计算总进度（只需要在总任务后面添加一对方括号，里面加上%或/ 如[0%],[0/1]）。列表分为有序和无序两种，有序列表以 1.或 1)开头，无序列表以+或-开头 后面，同样，后面要跟一个空格。输入一个无序列表：
   + treeroot
     + branch1
     + branch2
   在输入的时候，我们按 M+回车键，重复两次，可以自动输入同级条目。同理，我们还可以输入一个有序列表:
   1. [-] 任务 1 [66%]
      1. [X] 子任务 1
      2. [X] 子任务 2
      3. [ ] 子任务 3
   2. [] 任务 2
   常用快捷键如下：
   + M-RET 插入同级列表项
   + C-c C-c 改变 checkbox 状态
   + M-left/right 改变列表项层级关系
   + M-up/dowm 上下移动列表项

** 脚注
   用[fn:1]的方式插入脚注，而在最下面插入。

** 表格
   表格常用于数据展示，org-mode 提供了方便的列表操作。其中最独特的是支持类似于 Excel 的表格函数，可以完成简单的求和等操作 创建表格时，在新建表格时，首先输入表头,第二行按 Tab ,就能自动生成表格。

   下面我们填入一些数据，在填写的过程中按 Tab 键可以调到右方表格，按 Enter 则能跳到下方表格。如果同时按住 Shift，则是反方向跳。输入表格完成后，按 C-c C-c 则能自动对齐表格。

   下面体验下 org-mode 的强大的表格函数。我们在 total 列任选一个位置，输入=$1+$2 ，然后按 C-u C-c C-c，org-mode 能自动为我们计算所有的和，并放到第三列。最后完成的表格如下：

   | num1 | num2 | total |
   |------+------+-------|
   |    1 |    2 |     3 |
   |    4 |    4 |     8 |
   |    2 |    3 |     5 |
   |    6 |    2 |     8 |
   #+TBLFM: $3=$1+$2

   | num1 | num2 | total |
   |------+------+-------|
   |      |      |       |

   如果要插入行和列，可在表头添加一个标签或者新起一行，输入|再调整格式即可。其中最后一行是 org-mode 自动添加的。一些快捷键如下:
   + C-c | 通过输入大小的方式插入表格
   + C-c C-c 对齐表格
   + Tab 跳到右边的单元格
   + enter 跳到下方的单元格
   + M-up/right/left/right 上下左右移动行（列）
   + M-S-up/right/left/right 向上下左右插入行（列）

** 链接
   链接用于链接一些资源地址，如图片、文件、URL 等。 链接的格式是：
   [[../../../../Downloads/wallpaper/SW-07CEB13F0FEC67BD20106562ADD65E75.jpg][壁纸]]

** 待办事项(TODO)
   TODO 是 org-mode 最具特色的一个功能，也是 org-mode 设计的初衷，org-mode 的作者本意是用其来完成一个个人时间管理程序（GDT）。因此，可以用 org-mode 来做一个个人时间管理工具下面我们来看怎么写 TODO。TODO 也是一类标题，因此也需要用*开头，在 Emacs 中输入：
*** TODO [# A] 任务 1
*** TODO [# B] 任务 2
*** TODO 总任务 [50%]
**** TODO 子任务 1
**** DONE 子任务 2 [100%]
     CLOSED: [2020-11-23 一 14:05]
     + [X] subsub1 [2/2]
       + [X] subsub2
       + [X] subsub3

     一些常用操作如下：
     + C-c C-t 变换 TODO 的状态
     + C-c / t 以树的形式展示所有的 TODO
     + C-c C-c 改变 checkbox 状态 - C-c
     + 设置优先级（方括号里的 ABC）
     + M-S-RET 插入同级 TODO 标签


** 标签(tags)
   在 org-mode 中，可以给每一章节添加一个标签，我们可以通过树的结构来查看所有带标签的章节。在每一节中，子标题的标签会继承父标题标签。 输入：
*** 章标题                                                       :work:learn:


** 时间
   org-mode 可以利用 Emacs 的时间空间插入当前时间。 输入 C-c . 会出现一个日历，我们点选相应的时间即可插入。
   <2020-11-23 一>
   时间前可以加 DEADLINE:和 SCHEDULED:表示时间的类型如：
   DEADLINE:<2020-12-01 二>
   下面是一个常见的 TODO 模板：
** TODO 学习 org
   SCHEDULED: <2020-11-20 五>
   DEADLINE: <2020-11-27 五>
   常见命令如下：
   C-c . 插入时间

** 特殊文本格式
   **bold**
   //italic//
   __underline__
   ==code==
   ~~verbatim~~
   ++string-through++

**  富文本导出
   org-mode 的强大之处还在于它能到出成各种不同的格式，例如 html、pdf 等，在导出时，可以加入一些说明符号，来制定导出选项，常用导出符号如下：




* 注释

[fn:1] 本文参考自http://orgmode.org/orgguide.pdf
